<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  

  <!-- Google fonts -->
  <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,300,400italic,400,600" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Converting PDF to EPS on OS X &middot; blm.io
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/public/apple-touch.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/atom.xml">

  <!-- add this -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5398cddd3691288f"></script>

  <!-- Custom JS, charting libs and jquery -->
  <script src='http://d3js.org/d3.v3.min.js' type='text/javascript'></script>
  <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js' type='text/javascript'></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
<script src='//code.highcharts.com/highcharts.js' type='text/javascript'></script>
<!-- <script src='//code.highcharts.com/highcharts-more.js"' type='text/javascript'></script>
<script src='//code.highcharts.com/modules/exporting.js' type='text/javascript'></script> -->
  <script>
  $(document).ready( function() {

    $('.gallery-item').hover( function() {
      $(this).find('.img-title').fadeIn(300);
    }, function() {
      $(this).find('.img-title').fadeOut(100);
    });

  });
  </script>


  <!-- begin analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51522691-1', 'blm.io');
  ga('require', 'displayfeatures');
  ga('send', 'pageview')
  </script>
  <!-- end analytics -->
</head>


<body>
  <div id="header">
    <nav>
      <a href="http://blm.io/blog/">
        <img src="http://blm.io/logo_nav.png" style="float: left; margin-top: 10px; margin-left: 3rem; border-radius: 0 !important;" />
      </a>
      <ul>
        <li><a href="http://blm.io/blog/">blog</a></li>
        <li><a href="http://blm.io">about</a></li>
        <li><a href="http://blm.io/projects">projects</a></li>
        <li><a href="http://blm.io/contact">contact</a></li>
      </ul>
    </nav>
    <nav class="mob">
      <a href="http://blm.io/blog/">
        <img src="http://blm.io/logo_nav.png" style="float: left; margin-top: 1rem; margin-left: 2rem; border-radius: 0 !important;" />
      </a>
      <ul>
        <li><a href="http://blm.io/blog/">blog</a></li>
        <li><a href="http://blm.io">about</a></li>
        <li><a href="http://blm.io/contact">contact</a></li>
      </ul>
    </nav>
  </div>

<div class="container content">

<div class="post">
  <h1 class="post-title">Converting PDF to EPS on OS X</h1>
  <div style="min-height:2.4rem;">
  <span class="post-date">07 May 2015</span>
  <div class="addthis_sharing_toolbox"></div>
  
  </div>
  <p>Recently I discovered that some academic publishers will let you submit PDF figures right up until acceptance, where they then need to be in an &quot;editable&quot; format. Vector figures inside PDF containers <em>are</em> editable of course, but the author guidelines for your journal of choice may well say otherwise, instead offering a list of ancient and bewildering image formats which are deemed acceptable. It&#39;s baffling to me why a journal would prefer a <code>pptx</code> PowerPoint file containing your figure than a modern open standard like <code>SVG</code> (not a format without consistency issues, admittedly). So for this reason I needed to convert a bunch of PDF figures to EPS (encapsulated postscript) without too much manual effort.</p>

<h2>Conversions</h2>

<p>Google lead me to <a href="http://tex.stackexchange.com/q/20883">tex.se</a> where a <a href="http://tex.stackexchange.com/a/20884">great answer</a> (+1) lists a few different possible methods of going about this conversion. After trying a couple, it turned out the results were often imperfect and sometimes wildly different.</p>

<p>As an example PDF vector image, here&#39;s the <a href="https://benjaminlmoore.wordpress.com/2015/04/09/recreating-the-vaccination-heatmaps-in-r/">measles heatmap I put together</a> recently:</p>

<p><img class="imgfull" src="/blog/img/measles_hm.png" /></p>

<h3>ImageMagick</h3>

<p>How well does this convert with, say, <a href="http://www.imagemagick.org/">ImageMagick</a>:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">convert measles.pdf measles_imagemagick.eps
</code></pre></div>
<p><img class="imgfull" src="/blog/img/measles_imagemagick.png" /></p>

<p>Wow, I have no idea why that gives such a bad result, maybe it could be improved by tweaking some <a href="http://www.imagemagick.org/script/convert.php">parameters</a> but I didn&#39;t experiment with these.</p>

<h3>Inkscape</h3>

<p>Better results came from <a href="https://inkscape.org/en/">Inkscape</a> (though linking the commandline version is <a href="http://wiki.inkscape.org/wiki/index.php/MacOS_X#Inkscape_command_line">a pain</a> on OS X):</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">inkscape measles.pdf --export-eps<span class="o">=</span>measles_inkscape.eps
</code></pre></div>
<p><img class="imgfull" src="/blog/img/measles_inkscape.png" /></p>

<p>This looks a bit better, though the bounding box is tightly cropped.</p>

<h3>pdftops (xpdf)</h3>

<p>The best out-of-the-box result with this file came from <code>pdftops</code> (part of <a href="http://www.foolabs.com/xpdf/download.html">xpdf</a>) which maintained PDF margins and converted vector elements reasonably faithfully:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">pdftops -eps measles.pdf
</code></pre></div>
<p><img class="imgfull" src="/blog/img/measles_pdftops.png" /></p>

<h2>Script</h2>

<p>To quickly try each of the above methods (and more) I&#39;ve put a rough bash script together <a href="https://github.com/blmoore/pdf2eps-osx"><code>pdf2eps</code></a> that can be cloned from <a href="https://github.com/blmoore">github</a> and run as:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">git clone git://github.com/blmoore/pdf2eps-osx
<span class="nb">cd </span>pdf2eps-osx
./pdf2eps example_file.pdf
<span class="c"># Converting: example_file.pdf</span>

ls converted/
<span class="c"># example_file_gs.eps          example_file_inkscape.eps</span>
<span class="c"># example_file_imagemagick.eps example_file_pdftops.eps</span>
</code></pre></div>
<p>Maybe I&#39;ll properly develop this script in future, using getopts and testing/installing linked programs, but for now it works as a quick hack!</p>

</div>

<div class="related">

  <div class="twitter">
  <a href="https://twitter.com/benjaminlmoore" class="twitter-follow-button"
  data-show-count="false">Follow @benjaminlmoore</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </div>

  <h2>Related Posts</h2>
  <ul class="related-posts">
    
    <li>
      <h3>
        <a href="/blog/markdown-academic-cv">
          Building an academic CV in markdown
          <small>13 Apr 2015</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="/blog/slidify">
          Slidify: Modern, simple presentations written in R Markdown
          <small>24 Feb 2014</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="/blog/action-heroes">
          Hollywood action heroes
          <small>07 Jun 2014</small>
        </a>
      </h3>
    </li>
    
  </ul>

<!-- Categories -->
<div class="tags">
<i class="fa fa-folder-open" style="margin-right:.2rem;"></i>

    <span class="tagbutton" style="margin-right:.5rem;">
<strong>
      <a href="/blog/category/unix/">unix</a>
</strong>
    </span>

</div>

<!-- Tag list -->
<div class="tags">
<i class="fa fa-tags" style="margin-right:.2rem;"></i>

    <span class="tagbutton">
      <a href="/blog/tag/pdf/">#pdf</a>
    </span>

    <span class="tagbutton">
      <a href="/blog/tag/inkscape/">#inkscape</a>
    </span>

    <span class="tagbutton">
      <a href="/blog/tag/ghostscript/">#ghostscript</a>
    </span>

    <span class="tagbutton">
      <a href="/blog/tag/eps/">#eps</a>
    </span>

    <span class="tagbutton">
      <a href="/blog/tag/images/">#images</a>
    </span>

</div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'blmioblog'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<div class="footer">
  <p>
    <!--
    <a href="https://creativecommons.org/licenses/by/4.0/"
    target="_blank">CC-BY 4.0</a> 2015.
  -->
  </p>
  </div>
  </div>

  </body>
  </html>
