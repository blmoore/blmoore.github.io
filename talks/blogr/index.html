<!DOCTYPE html>
<html>
<head>
  <title>R for the web through pop data analysis</title>
  <meta charset="utf-8">
  <meta name="description" content="R for the web through pop data analysis">
  <meta name="author" content="Ben Moore">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
  <!-- <aside class="gdbar">
  <img src="assets/img/logo.png">
</aside> -->
<div style="float:right; width=35%; margin-top:3%">
  <img src="assets/img/logo.png" />
  <br /><br /><br />
</div>
<hgroup class="auto-fadein" style="width:75%;">
  <p style="font-size: 3.5em; color:#FD9544; margin-top:15%; margin-bottom: 5%; font-family: 'Varela Round', 'Helvetica', Sans-serif; text-shadow: 1px 1px #fff, 1px 2px #ccc;">blogR<br />
    <p style="font-size: 1.5em; margin-top:5%">Pop data analysis and R for the web</p></p>
    <p><b>Ben Moore</b> (<a href="https://twitter.com/benjaminlmoore" target="_blank">@benjaminlmoore</a>)<br/>
      Edinburgh Psychology R-users, November 13<sup>th</sup> 2014
      <p style="text-align:right; font-size:.9rem;">
        Slides online at: <a href="http://blm.io/talks/blogr">blm.io/talks/blogr</a>
      </p>
    </p>
  </hgroup>
  <article></article>
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <!-- Limit image width and height -->

<style type='text/css'>

.rChart {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 500px;
    height: 500px !important;
}

img {
    max-height: 540px;
    max-width: 964px;
}
body {
  /* margin-top: 40px; */
}
ol.linenums {
  margin-left: 0px;
}
#features p {
  font-size: 14px;
  line-height: 21px;
  color: #777777;
}
#solo p {
  text-align:center;
  font-size:xx-large;
  /* font-weight:bolder; */
  margin-top:25%;
  color:#777777;
}

.title-slide {
  background-color: #FEFEFE;
}

#bigwriting {
  font-size:x-large;
}

</style>

<!-- Center image on slide -->

<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>

<script src='http://d3js.org/d3.v3.min.js' type='text/javascript'></script>

<!-- <script src='http://dimplejs.org/dist/dimple.v2.1.0.min.js' type='text/javascript'></script> -->

<script type='text/javascript'>
$(function() {
    $("p:has(img)").addClass('centered');
});
</script>

<h2>I&#39;m going to talk about...</h2>

<p><br /></p>

<p>A couple of examples of R analyses I&#39;ve done for fun:</p>

<ol>
<li><p>Author inflation</p></li>
<li><p>Overrated films</p></li>
</ol>

<p><br /></p>

<p>And along the way:</p>

<ul>
<li><p>Fitting R into web frameworks with rCharts and slidify</p></li>
<li><p>Tips for would be &quot;data scientists&quot; / data bloggers</p></li>
<li><p>Getting people to actually read your stuff</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="solo" style="background:;">
  <article data-timings="">
    <p>Example 1: Author inflation</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:black;">
  <article data-timings="">
    <p><article class="flexbox vcenter">
<img style="height: inherit;" src="figure/ac.se.png" />
</article></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Starting point</h2>
  </hgroup>
  <article data-timings="">
    <ul class="build fade">

<li> Good question </li>

<li> No real answers, speculation </li>

<li> Easy to test!!</li>

</ul>

<p><aside class="note">
<section></p>

<ul>
<li>See this amazing link: <a href="http://www.google.com">link</a>.</li>
</ul>

<p><b>Remember to say this tag line!</b></p>

<p></section>
</aside></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Getting some data</h2>
  </hgroup>
  <article data-timings="">
    <p><br /></p>

<p><img src="figure/ropensci.png" alt="ropensci"></p>

<div style="width: 50%; margin-left: auto; margin-right: auto; margin-top: 10%" class="fragment">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/PLOS_logo_2012.svg/500px-PLOS_logo_2012.svg.png" />
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Code</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">searchplos(
  # Query: publication date in 2012
  q  = &#39;publication_date:[2012-01-01T00:00:00Z TO 2012-12-31T23:59:59Z]&#39;, 

  # Fields to return: id (doi) and author list
  fl = &quot;id,author&quot;, 

  # Filter: only actual articles in journal PLOS ONE
  fq = list(&quot;doc_type:full&quot;,
            &quot;cross_published_journal_key:PLoSONE&quot;), 

  # 500 results (max 1000 per query)
  start=0, limit=500, sleep=6)
</code></pre>

<p><aside class="note">
<section></p>

<ul>
<li>Point I wanted to make #1</li>
<li>Point I wanted to make #2</li>
<li>Point I wanted to make #3</li>
<li>Example <a href="#">link</a> in notes.</li>
</ul>

<p><b>Remember to say this tag line!</b></p>

<p></section>
</aside></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Results</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:35%;'>
  <p><br /></p>

<p><img src="figure/plos1.png" alt="author beanplots"></p>

</div>
<div style='float:right;width:65%;'>
  <p><br /></p>

<p><img src="figure/plos2.png" alt="author ecdf"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:black;">
  <hgroup>
    <h2>270 authors...</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="figure/270.png" alt="270 authors"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Evidence for author inflation</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="figure/plos3.png" alt="lm"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>High impact == high inflation ?</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:65%;'>
  <p><img src="figure/plos4.png" alt="corr with IF"></p>

</div>
<div style='float:right;width:35%;'>
  <p><br /></p>

<p><u>TODO</u></p>

<ul class = "build incremental">
<li><p>expand to entire NLM Medline / Pubmed records (&gt;22 mill)</p></li>
<li><p>Try to get at &quot;good inflation vs. bad inflation&quot;</p>

<ul>
<li>Relative growth of acknowledgements? (PMC)</li>
</ul></li>
</ul>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="solo" style="background:;">
  <article data-timings="">
    <p>Example 2: Overrated movies</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Starting point</h2>
  </hgroup>
  <article data-timings="">
    <p><br /></p>

<ul>
<li><p>Everyone relates to concept of &quot;over/underrated&quot; — but it&#39;s inherently subjective</p></li>
<li><p>Maybe a way to quantify this (with, e.g. films) could be:</p></li>
</ul>

<p><br /></p>

<ul class = "build incremental">
<li><p><b>Critic ratings</b> — subjective ratings</p></li>
<li><p><b>Audience ratings</b> — &quot;objective truth&quot; (crowd-sourced, many wrongs principle)</p>

<ul>
<li>(Wrong way round? Up to you... ) <br /><br /></li>
</ul></li>
<li><p>So given this definition of &quot;overrated&quot;: <br /><p style="font-size: 1.3em; text-align: center;"><b>Q:</b> What are the most (over|under)rated films?</p></p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <article data-timings="">
    <p><img src="figure/rtlogo.png" alt="rt"></p>

<p>They have a REST API! </p>

<pre><code class="r">library(&quot;RCurl&quot;)
library(&quot;jsonlite&quot;)

api.key &lt;- &quot;somelongAPIkey&quot;
rt &lt;- getURI(paste0(&quot;http://api.rottentomatoes.com/api/public/v1.0/&quot;,
                    &quot;lists/dvds/top_rentals.json?apikey=&quot;, api.key, &quot;&amp;limit=50&quot;))

rt &lt;- fromJSON(rt)

title &lt;- rt$movies$title
critics &lt;- rt$movies$ratings$critics_score
audience &lt;- rt$movies$ratings$audience_score
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <article data-timings="">
    <p style="font-color: #ffa775; font-size: 1.4em; text-align: center;">This is easy, why hasn't someone done it before...</p>

<p><br /></p>

<p><img src="figure/apiforum.png" alt="forum"></p>

<p><br /></p>

<div style="text-align: center;"><h2>!!!</h2></div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Hacky solution</h2>
  </hgroup>
  <article data-timings="">
    <p><br /></p>

<ol class = "build incremental">
<li><p>Get largest starting list of films possible (Top rentals: <b>50</b>)</p></li>
<li><p>For each, retrieve &quot;similar films&quot; (max: <b>5</b>!)</p></li>
<li><p>Rinse, recurse</p></li>
<li><p>Enjoy the expontential growth...</p></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>&quot;Walled gardens&quot;</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:35%;'>
  <p><br /></p>

<p><br /></p>

<p><img src="figure/hits.png" alt="hits"></p>

</div>
<div style='float:right;width:65%;'>
  <p><br /></p>

<p><img src="figure/hp.png" alt="hp"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Results v1</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="figure/films1.png" alt="results1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <article data-timings="">
    <!--
<div id='chart12666f920d7f' class='rChart dimple'></div>
<script src="js/films.js"></script>
-->

<iframe width='100%' height='100%' src='http://blm.io/movie_embed.html' frameborder='0' scrolling="no"></iframe>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>R background</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p><br /></p>

<h3>"Hadley"-verse</h3>

<ul>
<li><p>Robust, powerful libraries with strong theoretical underpinnings:</p>

<ul>
<li><code>ggplot2</code> :: Grammar of graphics (Leland Wilkinson)</li>
<li><code>dplyr</code> :: Grammar of tidying data</li>
</ul></li>
</ul>

</div>
<div style='float:right;width:48%;'>
  <p><br /></p>

<ul style="list-style-type: none !important; list-style: none !important;" class="build">

<li style="list-style: none !important;"><h3>"Ramnath"-verse</h3></li>

<li style="list-style: none !important;">Neat hacks that get R talking to various javascript libraries:</li>

<li style="list-style: none !important;">&nbsp;&nbsp;<code>rCharts</code> :: js plots from lattice-like syntax</li>

<li style="list-style: none !important;">&nbsp;&nbsp;<code>slidify</code> :: HTML/JS/CSS presentations from RMarkdown</li>

</ul>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Interactive charts</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>How we will be doing it:
<br /></p>

<p style="text-align: center;">
R
<br /><br />
&#x25BC;
<br /><br />
ggvis (Rstudio)
<br /><br />
&#x25BC;
<br /><br />
Vega
<br /><br />
&#x25BC;
<br /><br />
D3.js
</p>

</div>
<div style='float:right;width:48%;'>
  <p>But currently:
<br /></p>

<p style="text-align: center;">
R
<br /><br />
&#x25BC;
<br /><br />
<b>rCharts</b>
<br /><br />
&#x25BC;
<br /><br />
[ dimple.js, highcharts, NVD3, ... ]
<br /><br />
&#x25BC;
<br /><br />
D3.js
</p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>D3.js</h2>
  </hgroup>
  <article data-timings="">
    <p>Handles data mapping (often JSON) + acts like jQuery for SVGs.</p>

<p>Very powerful but low-level — basic graphs use the same few elements so 
no need to reinvent wheel for these.</p>

<div id="collision" style="width: 100%; height: 50%; display: block;"></div>

<script src="js/collision.js"></script>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <article data-timings="">
    <p style="text-align:center; font-size:xx-large; margin-top:20%">
Thanks for your attention
</p>

<p><br /></p>

<div style="width: 60%; height: auto; margin: 5% auto;">
<p>
People who've helped me out or I've stolen code from:
</p>
<p style="font-size:.8em; text-align:center">
<b>@ramnath_vaidya</b> (rCharts, slidify), @hadley_wickham (dplyr, ggplot2, devtools), 
@kwbroman, @timelyportfolio, <b>StackOverflow</b>,
@mbostock (d3.js), @jkiernander (dimple.js)
</p>
</div>

<div style="float:left; margin-top:1%"> <p style="font-size:small">HTML5 presentation written in <code>RMarkdown</code> using <code>library("slidify")</code>.</p></div>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title=''>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title=''>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title=''>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Starting point'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Getting some data'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Code'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Results'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='270 authors...'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Evidence for author inflation'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='High impact == high inflation ?'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title=''>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Starting point'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title=''>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title=''>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Hacky solution'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='&quot;Walled gardens&quot;'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Results v1'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title=''>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='R background'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Interactive charts'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='D3.js'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title=''>
         22
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>